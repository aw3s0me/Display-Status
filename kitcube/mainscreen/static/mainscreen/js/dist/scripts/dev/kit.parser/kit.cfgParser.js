(function(e){function t(e,t){if(!(typeof e=="string"&&e instanceof String)&&!e&&!gridElem)throw console.log("cfgFile is not a string or empty"+e),"cfgFile is not a string or empty"+e;this.cfgFile=e,this.prsObj=undefined,this.htmlElems={},this.grid=t.children(".gridster")}return t.prototype.initCfgFile=function(e){if((typeof cfgFile!="string"||!(cfgFile instanceof String))&&!cfgFile)throw console.log("cfgFile is not a string or empty"+cfgFile),"cfgFile is not a string or empty"+cfgFile},t.prototype.parseIni=function(){if(!this.cfgFile)throw console.log("Need to initialize cfgFile, use initCfgFile"),"Need to initialize cfgFile, use initCfgFile";var t=this,n={};return e.ajax({url:this.cfgFile,async:!1,success:function(e){var n={},r=e.split(/\r\n|\r|\n/),s=null,o={section:/^\s*\[\s*([^\]]*)\s*\]\s*$/,param:/^\s*([\w\.\-\_]+)\s*:\s*(.*?)\s*$/,comment:/^\s*;.*$/};r.forEach(function(e){if(o.comment.test(e))return;if(o.param.test(e)){var t=e.match(o.param);s?n[s][t[1]]=t[2]:n[t[1]]=t[2]}else if(o.section.test(e)){var t=e.match(o.section);n[t[1]]={},s=t[1]}else e.length==0&&s&&(s=null)});var u="";for(var a in n)u+=a+": "+n[a]+"; ";for(var f in n){var l=f.split("/");l.length>1&&l.lenght<3&&(n[l[0]].elements=[],n[l[0]].elements.push(n[l[i]])),console.log(l)}t.prsObj=n}}),t.prsObj},t.prototype.parseJson=function(){if(!this.cfgFile)throw console.log("Need to initialize cfgFile, use initCfgFile"),"Need to initialize cfgFile, use initCfgFile";var t=this,n=this.cfgFile;return e.ajax({url:n,async:!1,dataType:"text",success:function(e){var n=JSON.parse(e);t.prsObj=n},error:function(e,t,n){console.log(e.status),console.log(n)}}),t.prsObj},t.prototype.fillTextElem=function(e,t,n,r,i,s,o){e.attr("data-col",t),e.attr("data-row",n),e.attr("data-sizex",r),e.attr("data-sizey",i),e.append(s)},t.prototype.fillImage=function(e,t,n,r,i,s,o){},t.prototype.fillTest=function(t){var n=0;console.log([t.xCount,t.yCount]);for(var r=1;r<t.xCount+1;r++)for(var i=1;i<t.yCount+1;i++){var s=e("<li></li>");this.fillTextElem(s,r,i,1,1,n,null),this.grid.children("ul").append(s),n++}},t.prototype.fill=function(){if(!this.grid)throw"grid wasnt initialized";if(!this.prsObj)throw"object wasn't parsed";var t=this.prsObj;for(var n in t){var r=t[n],i=e("<li></li>");switch(r.type){case"text":this.fillTextElem(i,r.coords[0],r.coords[1],r.size[0],r.size[1],r.name,null);break;case"img":this.fillImage(i,r.coords[0],r.coords[1],r.size[0],r.size[1],r.path,null)}i.append(r.name),this.grid.children("ul").append(i)}},t})(jQuery);