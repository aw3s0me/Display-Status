function highlight(){function n(e){return[].slice.call(document.querySelectorAll(e))}var e=ace.require("ace/ext/static_highlight"),t=ace.require("ace/lib/dom");n("code[class]").forEach(function(t){var n=t.className.match(/language-(\w+)|(javascript)/);if(!n)return;var r="ace/mode/"+(n[1]||n[2]);e.highlight(t,{mode:r,theme:"ace/theme/xcode"})})}var editor,embedded_editor;$(function(){function e(e){e.preventDefault();var t={};t.api=$(this).attr("href").substring(6,$(this).attr("href").length-5),$.bbq.pushState(t);var n=$(this);$("#apiHolder").load($(this).attr("href")+" #documentation",function(){$("#apiHolder").removeClass("apiIntro").removeClass("span9"),$("#documentation").removeClass("span9").addClass("span7"),ux(),setupClicker();var e=$.bbq.getState("section");e&&$("li#dropdown_"+e.replace(/\./g,"\\.")+" a").triggerHandler("click")})}ace.config.set("workerPath","build/src-min"),editor=ace.edit("ace_editor_demo"),editor.container.style.opacity="",embedded_editor=ace.edit("embedded_ace_code"),embedded_editor.container.style.opacity="",embedded_editor.session.setMode("ace/mode/html"),embedded_editor.setAutoScrollEditorIntoView(!0),embedded_editor.setOption("maxLines",40),editor.setOptions({maxLines:30,mode:"ace/mode/javascript",autoScrollEditorIntoView:!0}),ace.config.loadModule("ace/ext/emmet",function(){ace.require("ace/lib/net").loadScript("http://nightwing.github.io/emmet-core/emmet.js",function(){embedded_editor.setOption("enableEmmet",!0),editor.setOption("enableEmmet",!0)})}),ace.config.loadModule("ace/ext/language_tools",function(){embedded_editor.setOptions({enableSnippets:!0,enableBasicAutocompletion:!0}),editor.setOptions({enableSnippets:!0,enableBasicAutocompletion:!0})}),$("ul.menu-list").mousedown(function(e){e.button===1&&e.preventDefault()}),$("ul.menu-list li").click(function(e){if(e.target.tagName!=="A"){var t=$(this).find("a").attr("href");e.button==1?window.open(t,"_blank"):window.location=t}}),$(".menu-item a").click(e),$("a.argument").click(e),$("a.external").click(function(e){e.preventDefault()});var t=$("#tabnav"),n="a",r=!0;t.find(n).click(function(e){function t(e,t){typeof t!="undefined"?$("body").stop().animate({scrollTop:t},400):$("body").scrollTop()>345&&$("body").stop().animate({scrollTop:$(e).offset().top-10},400)}e.preventDefault();if($(this).attr("href")==="/"){window.location="http://ace.ajax.org";return}$(this).attr("href").indexOf("#api")===0?($("#top_container").addClass("collapse"),t(null,0)):$(this).is(":visible")&&(r?(r=!1,setTimeout(function(){$("#top_container").removeClass("collapse"),t(e.target)},700)):($("#top_container").removeClass("collapse"),t(e.target))),$(this).tab("show");var n={};n.nav=$(this).attr("href").substr(1),$.bbq.pushState(n)}),$('#tabnav a[data-toggle="tab"]').on("shown",function(e){$(".tab-content .tab-pane.active .ace_editor").each(function(e,t){t.env.onResize()})}),$(window).on("hashchange",function(e){_gaq.push(["_trackPageview",location.pathname+location.search+location.hash]),t.each(function(){var t=$.bbq.getState("nav")||"about",r=e.fragment.split("&")[1]||"";$(this).find(n+"[href='#"+t+"']").triggerHandler("click");var i=$.bbq.getState("api");i&&$(n+"[href='./api/"+i+".html']").triggerHandler("click")})}).trigger("hashchange"),highlight()});